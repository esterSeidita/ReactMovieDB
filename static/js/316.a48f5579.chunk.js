"use strict";(self.webpackChunkreact_movies_db=self.webpackChunkreact_movies_db||[]).push([[316],{48:function(e,t,n){n.d(t,{Z:function(){return c}});var r="style_Card__Z6Vzh",i="style_mainCard__z21Ph",s=n(504),o=n(184);function c(e){var t=e.setModal,n=e.movie,c=e.cardID,a=e.setUpdateCardId,u=e.needActions;return(0,o.jsxs)("div",{className:r,children:[(0,o.jsx)("img",{src:n.poster&&n.poster,alt:n.title&&n.title}),(0,o.jsxs)("div",{className:i,children:[(0,o.jsx)("h2",{children:n.title&&n.title}),(0,o.jsx)("p",{children:n.year&&n.year}),(0,o.jsx)("p",{children:n.description&&n.description}),(0,o.jsx)("ul",{children:n&&Array.isArray(n.genres)?n.genres.map((function(e,t){return(0,o.jsx)("li",{children:e},t)})):(0,o.jsx)("li",{children:n.genres})}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:function(){t({show:"visible",title:"Sicuro di volere eliminare?",description:"",needConfirm:!0,cardId:c})},children:"Delete"}),(0,o.jsx)(s.rU,{to:"UpdateMovie",children:(0,o.jsx)("button",{onClick:function(){a(c)},children:"Update"})})]})]})]})}},868:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return l}});var o=n(703),c=n(871),a="style_Form__O3RLX",u=n(184);function l(e){var t=e.inputs,n=e.setInputs,i=e.method,l=e.setAlertData,p=(0,c.s0)(),d=function(e){var t=e.target.name,i=e.target.value;"genres"===t&&(i=i.split(",").map((function(e){return e.trim()}))),n((function(e){return s(s({},e),{},r({},t,i))}))};return(0,u.jsxs)("form",{className:a,onSubmit:function(e){e.preventDefault(),"POST"===i&&(l({content:"Film aggiunto con successo",response:"CREATE",display:!0}),(0,o.Qu)(t).then((function(){setTimeout((function(){p("/")}),1e3),setTimeout((function(){l({content:"",response:"",display:!1})}),5e3)}))),"UPDATE"===i&&(l({content:"Film aggiornato con successo",response:"UPDATE",display:!0}),(0,o.k0)(t.id,t).then((function(){p("/"),setTimeout((function(){l({content:"",response:"",display:!1})}),5e3)})))},children:[(0,u.jsx)("label",{children:"Titolo"}),(0,u.jsx)("input",{type:"text",name:"title",value:t.title||"",onChange:d}),(0,u.jsx)("label",{children:"Anno"}),(0,u.jsx)("input",{type:"number",name:"year",value:t.year||"",onChange:d}),(0,u.jsx)("label",{children:"Descrizione"}),(0,u.jsx)("input",{type:"text",name:"description",value:t.description||"",onChange:d}),(0,u.jsx)("label",{children:"Poster"}),(0,u.jsx)("input",{type:"text",name:"poster",value:t.poster||"",onChange:d}),(0,u.jsx)("label",{children:"Genere (Tag)"}),(0,u.jsx)("input",{type:"text",name:"genres",value:t.genres||"",onChange:d}),(0,u.jsx)("input",{type:"submit"})]})}},838:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(885),i=n(791),s=n(184);function o(e){var t=e.setDeleteConfirmed,n=e.showModal,o=e.title,c=e.description,a=e.needConfirm,u=(e.setRender,(0,i.useState)("not-visible")),l=(0,r.Z)(u,2),p=l[0],d=l[1];return(0,i.useEffect)((function(){d(n)}),[n]),(0,s.jsxs)("div",{id:p,className:"ModalWrapper",children:[(0,s.jsx)("div",{className:"overlay"}),(0,s.jsxs)("div",{className:"modal",children:[(0,s.jsx)("h1",{children:o}),(0,s.jsx)("p",{children:c}),a&&(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:function(){return t(!0)},className:"confirm",children:"Conferma"}),(0,s.jsx)("button",{onClick:function(){window.location.reload(!1)},className:"abort",children:"Annulla"})]})]})]})}},316:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(885),i="style_AddMovie__bHON6",s=n(791),o=n(838),c=n(48),a=n(868),u=n(184);function l(e){var t=e.setAlertData,n=(0,s.useState)("not-visible"),l=(0,r.Z)(n,2),p=l[0],d=l[1],f=(0,s.useState)({}),h=(0,r.Z)(f,2),m=h[0],y=h[1];return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)(o.Z,{showModal:p,title:"Yeeee!",description:"Film aggiunto con successo :D",needConfirm:!1}),(0,u.jsx)(c.Z,{setUpdateCardId:!1,cardID:!1,movie:m,setModal:!1,needActions:!1},!1),(0,u.jsx)(a.Z,{setShowModal:d,method:"POST",inputs:m,setInputs:y,cardID:!1,setAlertData:t})]})}},703:function(e,t,n){n.d(t,{Fh:function(){return a},Qu:function(){return d},eO:function(){return o},k0:function(){return l},lu:function(){return h}});var r=n(861),i=n(757),s=n.n(i);function o(){return c.apply(this,arguments)}function c(){return c=(0,r.Z)(s().mark((function e(){var t,n,r,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",e.next=3,fetch("https://edgemony-backend.herokuapp.com/movies/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function a(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://edgemony-backend.herokuapp.com/movies/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://edgemony-backend.herokuapp.com/movies/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:n.description,genres:n.genres,poster:n.poster,title:n.title,year:n.year})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://edgemony-backend.herokuapp.com/movies/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t.description,genres:t.genres,poster:t.poster,title:t.title,year:t.year})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(e){var t=e.trim().toLowerCase().split("");return t[0].toUpperCase()+t.slice(1).join("")}}}]);
//# sourceMappingURL=316.a48f5579.chunk.js.map